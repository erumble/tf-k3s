# Create a [Certificate](https://cert-manager.io/next-docs/usage/certificate/)
This whole module could be a `kubernetes_manifest` resource, but the CRDs have to exist _before_ the Terraform plan runs.

This module creates custom resources defined by cert-manager, and should have a dependency on the cert-manager module.

This module requires an existing ClusterIssuer or Issuer. If using an Issuer, this module must be deployed to the same namespace as the Issuer.

Usage
---
```
module "certificate" {
  source = "./modules/certificate"

  issuer    = "my-issuer"
  namespace = "default"

  depends_on = [
    module.cert_manager
  ]
}
```

## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_helm"></a> [helm](#requirement\_helm) | ~> 2.3 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_helm"></a> [helm](#provider\_helm) | ~> 2.3 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [helm_release.certificate](https://registry.terraform.io/providers/hashicorp/helm/latest/docs/resources/release) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_common_name"></a> [common\_name](#input\_common\_name) | CommonName is a common name to be used on the Certificate. | `string` | `""` | no |
| <a name="input_dns_names"></a> [dns\_names](#input\_dns\_names) | DNSNames is a list of DNS subjectAltNames to be set on the Certificate. | `list(string)` | `null` | no |
| <a name="input_is_ca"></a> [is\_ca](#input\_is\_ca) | IsCA will mark this Certificate as valid for certificate signing. | `bool` | `false` | no |
| <a name="input_issuer"></a> [issuer](#input\_issuer) | Issuer is a reference to the issuer for this certificate. | `string` | n/a | yes |
| <a name="input_issuer_kind"></a> [issuer\_kind](#input\_issuer\_kind) | The CRD Kind of the issuer. | `string` | `"Issuer"` | no |
| <a name="input_name"></a> [name](#input\_name) | Set the name of all resources created. | `string` | n/a | yes |
| <a name="input_namespace"></a> [namespace](#input\_namespace) | The namespace to deploy the Helm release to. | `string` | n/a | yes |
| <a name="input_private_key"></a> [private\_key](#input\_private\_key) | Options to control private keys used for the Certificate. | <pre>object({<br>    algorithm      = string<br>    encoding       = optional(string)<br>    rotationPolicy = optional(string)<br>    size           = optional(number)<br>  })</pre> | `null` | no |
| <a name="input_revision_history_limit"></a> [revision\_history\_limit](#input\_revision\_history\_limit) | RevisionHistoryLimit is the maximum number of CertificateRequest revisions that are maintained in the Certificate's history. | `number` | `null` | no |
| <a name="input_secret_name"></a> [secret\_name](#input\_secret\_name) | SecretName is the name of the secret resource that will be automatically created and managed by this Certificate resource. | `string` | `""` | no |
| <a name="input_secret_template"></a> [secret\_template](#input\_secret\_template) | SecretTemplate defines annotations and labels to be propagated to the Kubernetes Secret when it is created or updated. | <pre>object({<br>    annotations = optional(map(string))<br>    labels      = optional(map(string))<br>  })</pre> | `null` | no |
| <a name="input_subject"></a> [subject](#input\_subject) | Full X509 name specification (https://golang.org/pkg/crypto/x509/pkix/#Name). | <pre>object({<br>    countries           = optional(list(string))<br>    localities          = optional(list(string))<br>    organizationalUnits = optional(list(string))<br>    organizations       = optional(list(string))<br>    postalCodes         = optional(list(string))<br>    provinces           = optional(list(string))<br>    serialNumber        = optional(string)<br>    streetAddresses     = optional(list(string))<br>  })</pre> | `null` | no |
| <a name="input_uris"></a> [uris](#input\_uris) | URIs is a list of URI subjectAltNames to be set on the Certificate. | `list(string)` | `null` | no |
| <a name="input_usages"></a> [usages](#input\_usages) | n/a | `list(string)` | <pre>[<br>  "server auth",<br>  "client auth"<br>]</pre> | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_secret_name"></a> [secret\_name](#output\_secret\_name) | n/a |

This README was generated by (terraform-docs)[https://terraform-docs.io]